<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
</head>
<body>
<div ng-include="headerInclude"></div>
<div ng-controller="Apiman.DevPortalController"
     id="page-content"
     class="page container-pf-nav-pf-vertical container-fluid"
     data-field="page"
     ng-cloak
     ng-show="pageState == 'loaded'">
  <div ng-include="'plugins/api-manager/html/api/api_bc.include'"></div>
  <!-- Entity Summary Row -->
  <div ng-include="'plugins/api-manager/html/api/api_entity.include'"></div>

  <!-- Navigation + Content Row -->
  <div class="row">
    <!-- Left hand nav -->
    <div ng-include="'plugins/api-manager/html/api/api_tabs.include'"></div>
    <!-- /Left hand nav -->

    <!-- Content -->
    <div class="col-md-10 apiman-entity-content">
      <div class="col-md-10">
        <!-- Expose in Portal -->
        <div class="title" apiman-i18n-key="dev-portal">Developer Portal</div>
        <div>
          <span apiman-i18n-key="dev-portal-help">Publish this API version via the developer portal?</span>
        </div>
        <div style="padding: 8px; margin-bottom: 10px">
          <input ng-model="data.apiVersion.exposeInPortal"
                 type="checkbox"
                 id="expose-in-portal">
          <label for="expose-in-portal"
                 apiman-i18n-key="export-in-portal"
                 style="padding-left: 3px">Expose this API version in the developer portal</label>
        </div>
        <!-- /Expose in Portal -->

        <div ng-show="data.apiVersion.exposeInPortal">
          <!-- Feature in Portal -->
          <div class="title" apiman-i18n-key="dev-portal">Feature in the developer portal?</div>
          <div>
          <span apiman-i18n-key="feature-api-in-portal-help">Feature this API version in the developer portal?
            If selected, the API will appear as a default entry on the developer portal landing page.</span>
          </div>
          <div style="padding: 8px; margin-bottom: 10px">
            <input
                   ng-model="data.isFeaturedApi"
                   ng-click="updateFeaturedApi()"
                   type="checkbox"
                   id="feature-api-in-portal">
            <label for="feature-api-in-portal"
                   apiman-i18n-key="feature-api-in-portal"
                   style="padding-left: 3px">Feature this API</label>
          </div>
          <!--/ Feature in Portal -->
          <!-- Attached plans -->
          <div class="title" apiman-i18n-key="available-plans">Attached Plans</div>
          <div>
            <span apiman-i18n-key="available-plans-help">
              Select which plans appear in the developer portal, and whether developers need approval before they can finalise their subscription.
            </span>
          </div>
          <div class="apiman-divider-40"
               ng-show="plans.length === 0">
            <div class="alert alert-warning">
              <span class="pficon pficon-info"></span>
              <span apiman-i18n-key="api-plans.no-locked-plans-found">No plans were attached to this API.</span>
            </div>
          </div>

          <div class="container-fluid container-cards-pf">
            <div class="row row-cards-pf"  style="display: flex;">
              <div class="col-xs-6 col-sm-5 col-md-5 container-border" style="display: inline-flex; width: 27em;" ng-repeat="plan in data.apiVersion.plans">
                <div class="card-pf card-pf-accented card-pf-aggregate-status">
                  <h2 class="card-pf-title">
                    {{  data.planSummaries[$index].planName }}
                    <h6 class="card-subtitle mb-2 text-muted">Version {{ plan.version }}</h6>
                  </h2>
                  <div class="card-pf-body text-left">
                    <p class="card-text">{{ data.planSummaries[$index].planDescription }}</p>


                    <div>
                      <ul class="list-group list-group-flush">
                        <li style="max-width: max-content !important;" class="list-group-item" ng-show="plan.exposeInPortal === true">&#9702; Plan <strong>is available</strong> in the developer portal</li>
                        <li style="max-width: max-content !important;" class="list-group-item" ng-show="!plan.exposeInPortal">&#9702; Plan is <strong>not available</strong> in the developer portal</li>
                        <li style="max-width: max-content !important;" class="list-group-item" ng-show="plan.requiresApproval === true">&#9702; Developers <strong>require approval</strong> to complete sign up</li>
                        <li style="max-width: max-content !important;" class="list-group-item"  ng-show="!plan.requiresApproval">&#9702; Developers <strong>do not require approval</strong> to complete sign up</li>
                      </ul>
                      <!-- Checkbox -- expose in portal -->
                      <div class="form-check">
                        <input class="form-check-input" type="checkbox" ng-model="plan.exposeInPortal" value="{{ plan.exposeInPortal }}" id="exposeInPortal-{{$index}}">
                        <label class="form-check-label" for="exposeInPortal-{{$index}}">
                          Expose in developer portal
                        </label>
                      </div>
                      <!-- Checkbox -- requires approval -->
                      <div class="form-check">
                        <input class="form-check-input" type="checkbox" ng-model="plan.requiresApproval" value="{{ plan.requiresApproval }}" id="requiresApproval-{{$index}}">
                        <label class="form-check-label" for="requiresApproval-{{$index}}">
                          Requires approval
                        </label>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <!-- /row -->
          </div>
          <!-- /Attached plans -->
          <hr />
          <!-- Image cropper modal and/or image -->
          <div class="row api-logo-container">
            <img src="{{ data.latestImage }}" ng-hide="!data.latestImage" alt="API image" />
            <button class="btn btn-primary" ng-click="openImageCropper()" type="button" data-field="uploadButton">
              <span class="fa fa-upload"></span> Upload image
            </button>
          </div>

          <!-- /image cropper and/or image -->
          <!-- API version description markdown row -->
        <div class="title" apiman-i18n-key="extended-api-description">Extended API Description</div>
        <div>
            <span apiman-i18n-key="extended-api-description-help">
              Provide a Markdown description of your API to help developers understand how to use your API.
            </span>
        </div>
        <div id="editor"></div>
        <!-- /row -->
        <!-- save -->
        <hr />
        <div apiman-permission="apiEdit"
             class="actions"
             style="margin-top: 20px">
          <button ng-disabled="!isDirty"
                  class="btn btn-primary"
                  ng-click="doSave()"
                  type="submit"
                  data-icon="fa-cog">
            <span ng-show="saving" apiman-i18n-key="saving">Saving</span>
            <span ng-hide="saving" apiman-i18n-key="save">Save</span>
          </button>
          <button ng-disabled="!isDirty"
                  ng-click="reset()"
                  class="btn btn-default"
                  data-field="cancelButton"
                  apiman-i18n-key="cancel">Cancel</button>
        </div>
        <!-- /save -->
        </div>

      </div>
    </div>
  </div>
</div>
<!-- /Content -->
</div>
</div> <!-- /container-pf-nav-pf-vertical container-fluid -->
</body>
</html>