<!DOCTYPE html>
<html lang="de">
{#include header.include.html title='Neuer API-Zugriff angefordert' /}

{#include standard-body.include.html notificationHeader='Neuer API-Zugriff angefordert' name=notification.recipient.fullName}
  {#notificationBody}
    <p>ein Nutzer hat Zugriff auf eine API angefordert.
    Bitte prüfen Sie die Freigabe.</p>

    <h5>Informationen zum Nutzer</h5>
    <p>
      Folgender Nutzer hat den Zugriff angefordert:
    </p>

    <dl class="row">
      <dt class="col-sm-3">Benutzername</dt>
      <dd class="col-sm-9">
        {event.user.username}
      </dd>
      <dt class="col-sm-3">Name</dt>
      <dd class="col-sm-9">
        {event.user.fullName}
      </dd>
      <dt class="col-sm-3">Email</dt>
      <dd class="col-sm-9">
        {event.user.email}
      </dd>
      {#if event.user.locale}
      <dt class="col-sm-3">Bevorzugte Sprache</dt>
      <dd class="col-sm-9">
        {event.user.locale}
      </dd>
      {/if}
    </dl>
    <p>
      Wird der Zugriff erteilt, haben alle Mitglieder der <code>{event.clientOrgId}</code> Organisation mit Berechtigung <code>clientView</code> Zugriff auf den API-Key.
    </p>

    <h5>Informationen zur API</h5>
    <p>Der Zugriff wurde angefordert für folgende API:</p>
    <dl class="row">
      <dt class="col-sm-3">Organisation</dt>
      <dd class="col-sm-9">
        {event.apiOrgId}
      </dd>
      <dt class="col-sm-3">Name</dt>
      <dd class="col-sm-9">
        {event.apiId}
      </dd>
      <dt class="col-sm-3">Version</dt>
      <dd class="col-sm-9">
        {event.apiVersion}
      </dd>
      <dt class="col-sm-3">Plan</dt>
      <dd class="col-sm-9">
        {event.planId}
      </dd>
      <dt class="col-sm-3">Version des Plans</dt>
      <dd class="col-sm-9">
        {event.planVersion}
      </dd>
    </dl>

    <h5>Informationen zum Client</h5>
    <p>Denken Sie daran, dass der Client einer anderen Organisation zugeordnet sein kann als die API.</p>
    <dl class="row">
      <dt class="col-sm-3">Organisation</dt>
      <dd class="col-sm-9">
        {event.clientOrgId}
      </dd>
      <dt class="col-sm-3">Name</dt>
      <dd class="col-sm-9">
        {event.clientId}
      </dd>
      <dt class="col-sm-3">Version</dt>
      <dd class="col-sm-9">
        {event.clientVersion}
      </dd>
    </dl>

    <hr/>

    <div class="container text-start">
      <div class="card">
        <h5 class="card-header"><em class="bi bi-check-circle-fill"></em> Zugriff auf die API erteilen</h5>
        <div class="card-body">
          <p>Folgen Sie dem Link, um die API-Zugriffe zu verwalten.</p>
          <a href="{apiman-manager-ui-endpoint}/orgs/{event.apiOrgId}/apis/{event.apiId}/{event.apiVersion}/contracts" class="btn btn-primary">Zugriff für <strong>{event.apiId}</strong> / <strong>{event.apiVersion}</strong> verwalten</a>
        </div>
      </div>
    </div>

    <div class="container mt-5">
      {#include footer.de.include.html /}
    </div>
  {/notificationBody}
  {/include}
</html>
